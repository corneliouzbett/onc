(()=>{"use strict";var e={265:()=>{try{self["workbox:core:6.1.5"]&&_()}catch(e){}},344:()=>{try{self["workbox:routing:6.1.5"]&&_()}catch(e){}},921:()=>{try{self["workbox:strategies:6.1.5"]&&_()}catch(e){}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{n(265);function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&a(o,n.prototype),o}).apply(null,arguments)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var n,r,o=(n=c,r=i(),function(){var e,o=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return t(this,e)});function c(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=function(e){for(var t=e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.length>0&&(t+=" :: ".concat(JSON.stringify(r))),t}(e,t);return(n=o.call(this,r)).name=e,n.details=t,n}return c}(r(Error)),s=new Set,l={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},f=function(e){return e||(t=l.runtime,[l.prefix,t,l.suffix].filter((function(e){return e&&e.length>0})).join("-"));var t};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}a(void 0)}))}}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n,r=new URL(e),o=m(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.searchParams.delete(i)}}catch(e){o.e(e)}finally{o.f()}return r.href}function w(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=v(regeneratorRuntime.mark((function e(t,n,r,o){var i,a,u,c,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=g(n.url,r),n.url!==i){e.next=3;break}return e.abrupt("return",t.match(n,o));case 3:return a=p(p({},o),{},{ignoreSearch:!0}),e.next=6,t.keys(n,a);case 6:u=e.sent,c=m(u),e.prev=8,c.s();case 10:if((s=c.n()).done){e.next=17;break}if(l=s.value,f=g(l.url,r),i!==f){e.next=15;break}return e.abrupt("return",t.match(l,o));case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),c.e(e.t0);case 22:return e.prev=22,c.f(),e.finish(22);case 25:return e.abrupt("return");case 26:case"end":return e.stop()}}),e,null,[[8,19,22,25]])})))).apply(this,arguments)}function x(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,u,"next",e)}function u(e){O(i,r,o,a,u,"throw",e)}a(void 0)}))}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.onupgradeneeded,a=o.onversionchange;j(this,e),this._db=null,this._name=t,this._version=n,this._onupgradeneeded=i,this._onversionchange=a||function(){return r.close()}}var t,n,r,o,i,a,u,c,s;return t=e,(n=[{key:"db",get:function(){return this._db}},{key:"open",value:(s=S(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._db){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise((function(e,n){var r=!1;setTimeout((function(){r=!0,n(new Error("The open request was blocked and timed out"))}),t.OPEN_TIMEOUT);var o=indexedDB.open(t._name,t._version);o.onerror=function(){return n(o.error)},o.onupgradeneeded=function(e){r?(o.transaction.abort(),o.result.close()):"function"==typeof t._onupgradeneeded&&t._onupgradeneeded(e)},o.onsuccess=function(){var n=o.result;r?n.close():(n.onversionchange=t._onversionchange.bind(t),e(n))}}));case 4:return this._db=e.sent,e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getKey",value:(c=S(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllKeys(t,n,1);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getAll",value:(u=S(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllMatching(t,{query:n,count:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"getAllKeys",value:(a=S(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllMatching(t,{query:n,count:r,includeKeys:!0});case 2:return o=e.sent,e.abrupt("return",o.map((function(e){return e.key})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"getAllMatching",value:(i=S(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.index,o=n.query,i=void 0===o?null:o,a=n.direction,u=void 0===a?"next":a,c=n.count,s=n.includeKeys,l=void 0!==s&&s,e.next=3,this.transaction([t],"readonly",(function(e,n){var o=e.objectStore(t),a=r?o.index(r):o,s=[],f=a.openCursor(i,u);f.onsuccess=function(){var e=f.result;e?(s.push(l?e:e.value),c&&s.length>=c?n(s):e.continue()):n(s)}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"transaction",value:(o=S(regeneratorRuntime.mark((function e(t,n,r){var o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.open();case 2:return e.next=4,new Promise((function(e,i){var a=o._db.transaction(t,n);a.onabort=function(){return i(a.error)},a.oncomplete=function(){return e()},r(a,(function(t){return e(t)}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"_call",value:(r=S(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=c.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=c[a];return u=function(e,r){var o=e.objectStore(n),a=o[t].apply(o,i);a.onsuccess=function(){return r(a.result)}},e.next=4,this.transaction([n],r,u);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"close",value:function(){this._db&&(this._db.close(),this._db=null)}}])&&P(t.prototype,n),e}();R.prototype.OPEN_TIMEOUT=2e3;for(var E=function(){var e,t,n,r=(t=C[A],n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||x(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(r[1]);try{var a=function(){var t=e.value;t in IDBObjectStore.prototype&&(R.prototype[t]=function(){var e=S(regeneratorRuntime.mark((function e(n){var r,i,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=u.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=u[a];return e.next=3,this._call.apply(this,[t,n,o].concat(i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())};for(i.s();!(e=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}},A=0,C=Object.entries({readonly:["get","count","getKey","getAll","getAllKeys"],readwrite:["add","put","clear","delete"]});A<C.length;A++)E();var T=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)}))}}function B(){return M.apply(this,arguments)}function M(){return(M=D(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=I(s),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=11;break}return r=n.value,e.next=8,r();case 8:case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))).apply(this,arguments)}function F(e){return new Promise((function(t){return setTimeout(t,e)}))}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const U="object"==("undefined"==typeof global?"undefined":N(global))&&global&&global.Object===Object&&global;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W="object"==("undefined"==typeof self?"undefined":L(self))&&self&&self.Object===Object&&self;const z=U||W||Function("return this")(),H=z.Symbol;var V=Object.prototype,G=V.hasOwnProperty,$=V.toString,Y=H?H.toStringTag:void 0;var Q=Object.prototype.toString;var X=H?H.toStringTag:void 0;const J=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=G.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(e){}var o=$.call(e);return r&&(t?e[Y]=n:delete e[Y]),o}(e):function(e){return Q.call(e)}(e)};function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const ee=function(e){var t=Z(e);return null!=e&&("object"==t||"function"==t)},te=z["__core-js_shared__"];var ne,re=(ne=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"";var oe=Function.prototype.toString;var ie=/^\[object .+?Constructor\]$/,ae=Function.prototype,ue=Object.prototype,ce=ae.toString,se=ue.hasOwnProperty,le=RegExp("^"+ce.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fe=function(e){return!(!ee(e)||(t=e,re&&re in t))&&(function(e){if(!ee(e))return!1;var t=J(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)?le:ie).test(function(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},he=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0},pe=he(Object,"create");var ye=Object.prototype.hasOwnProperty;var de=Object.prototype.hasOwnProperty;function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve.prototype.clear=function(){this.__data__=pe?pe(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(pe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ye.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return pe?void 0!==t[e]:de.call(t,e)},ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pe&&void 0===t?"__lodash_hash_undefined__":t,this};const me=ve,be=function(e,t){for(var n=e.length;n--;)if((r=e[n][0])===(o=t)||r!=r&&o!=o)return n;var r,o;return-1};var ge=Array.prototype.splice;function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=be(t,e);return!(n<0||(n==t.length-1?t.pop():ge.call(t,n,1),--this.size,0))},we.prototype.get=function(e){var t=this.__data__,n=be(t,e);return n<0?void 0:t[n][1]},we.prototype.has=function(e){return be(this.__data__,e)>-1},we.prototype.set=function(e,t){var n=this.__data__,r=be(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const _e=we,xe=he(z,"Map");function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Oe=function(e,t){var n,r,o=e.__data__;return("string"==(r=ke(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(xe||_e),string:new me}},Se.prototype.delete=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Oe(this,e).get(e)},Se.prototype.has=function(e){return Oe(this,e).has(e)},Se.prototype.set=function(e,t){var n=Oe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const je=Se;function Pe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new je;++t<n;)this.add(e[t])}Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pe.prototype.has=function(e){return this.__data__.has(e)};const Re=Pe,Ee=function(e){return e!=e},Ae=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,Ee,n)}(e,t,0)>-1},Ce=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},Te=function(e,t){return e.has(t)},Ie=he(z,"Set"),Ke=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},qe=Ie&&1/Ke(new Ie([,-0]))[1]==1/0?function(e){return new Ie(e)}:function(){};var De,Be="omrs-spa-cache-v1",Me=[{'revision':'020c97dc8e0463259c2f9df929bb0c69','url':'020c97dc8e0463259c2f9df929bb0c69.woff2'},{'revision':'1ef5edaaa20ae53ea50399884c5e48c6','url':'1ef5edaaa20ae53ea50399884c5e48c6.woff2'},{'revision':'238c66f0f32567f8b025fa462b139235','url':'238c66f0f32567f8b025fa462b139235.woff2'},{'revision':'2735a3a69b509faf3577afd25bdf552e','url':'2735a3a69b509faf3577afd25bdf552e.woff2'},{'revision':'288ad9c6e8b43cf02443a1f499bdf67e','url':'288ad9c6e8b43cf02443a1f499bdf67e.woff'},{'revision':'3a9be9ea9f7aa4af6de7307df21d9fc0','url':'3a9be9ea9f7aa4af6de7307df21d9fc0.woff2'},{'revision':'479970ffb74f2117317f9d24d9e317fe','url':'479970ffb74f2117317f9d24d9e317fe.woff2'},{'revision':'4813464bf253bbfebb7c83240387072e','url':'4813464bf253bbfebb7c83240387072e.woff'},{'revision':null,'url':'4bc877400d3a95b06344.js'},{'revision':'51521a2a8da71e50d871ac6fd2187e87','url':'51521a2a8da71e50d871ac6fd2187e87.woff2'},{'revision':'534bc9e7ce93c73d73426e46acd78092','url':'534bc9e7ce93c73d73426e46acd78092.woff'},{'revision':'539ed1a07cb8b137b6825efd1789c2f3','url':'539ed1a07cb8b137b6825efd1789c2f3.woff2'},{'revision':'60fa3c0614b8fb2f394fa29944c21540','url':'60fa3c0614b8fb2f394fa29944c21540.woff'},{'revision':'69f09800f4f6479d06e44eba837df872','url':'69f09800f4f6479d06e44eba837df872.woff'},{'revision':'7da66178eb5f266e1d5a9c5c72344c51','url':'7da66178eb5f266e1d5a9c5c72344c51.woff'},{'revision':'81f57861ed4ac74741f5671e1dff2fd9','url':'81f57861ed4ac74741f5671e1dff2fd9.woff'},{'revision':'8276fdb72ae8f4714d4e6eba704cc39f','url':'8276fdb72ae8f4714d4e6eba704cc39f.woff2'},{'revision':'87284894879f5b1c229cb49c8ff6decc','url':'87284894879f5b1c229cb49c8ff6decc.woff'},{'revision':'97a67d1aeb3c18ca193be4b4d4632546','url':'97a67d1aeb3c18ca193be4b4d4632546.woff'},{'revision':'9952fbcb7e57e6b5568995f1906db693','url':'9952fbcb7e57e6b5568995f1906db693.woff2'},{'revision':'adcde98f1d584de52060ad7b16373da3','url':'adcde98f1d584de52060ad7b16373da3.woff'},{'revision':'ba56ea84b8084b7ff9677f50d3cd81bd','url':'ba56ea84b8084b7ff9677f50d3cd81bd.woff'},{'revision':'bf12e11e6477f5cee412515ee11de0bf','url':'bf12e11e6477f5cee412515ee11de0bf.woff'},{'revision':'d76079ed7541a433a54f79316de086e9','url':'d76079ed7541a433a54f79316de086e9.woff'},{'revision':'da0e717829e033a69dec97f1e155ae42','url':'da0e717829e033a69dec97f1e155ae42.woff2'},{'revision':'db4a2a231f52e497c0191e8966b0ee58','url':'db4a2a231f52e497c0191e8966b0ee58.woff2'},{'revision':'de83f55b9291ee1bd05c8ebfb451e088','url':'de83f55b9291ee1bd05c8ebfb451e088.woff2'},{'revision':'fa534be7ffa380e39a7f6e03bf9a5e03','url':'fa534be7ffa380e39a7f6e03bf9a5e03.woff2'},{'revision':'30de494bd9e73ae96c18fd0c06fa422b','url':'favicon.ico'},{'revision':'fe65b8335ee19dd944289f9ed3178c78','url':'fe65b8335ee19dd944289f9ed3178c78.woff'},{'revision':null,'url':'https://poc-test-builds.fra1.digitaloceanspaces.com/@importmap/import-map.json'},{'revision':'294141d2a6fda97f2d4dd9e03316f1e4','url':'importmap.json'},{'revision':'6b758b31ea00150986994edcfb033a94','url':'logo-512.png'},{'revision':'b860db243392596e3b875bad9794b4e5','url':'logo.svg'},{'revision':'837d0fb64b8a3d95208ced8ca95d58cf','url':'openmrs.css'},{'revision':'0ebc1c3eddfeaec89c7746a9ed99df27','url':'openmrs.js'},{'revision':'2882b1419082f235e88f9dbe7d53147b','url':'openmrs.js.LICENSE.txt'}],Fe=Ue("index.html"),Ne=(De=Me.map((function(e){return Ue(e.url)})))&&De.length?function(e,t,n){var r=-1,o=Ae,i=e.length,a=!0,u=[],c=u;if(n)a=!1,o=Ce;else if(i>=200){var s=t?null:qe(e);if(s)return Ke(s);a=!1,o=Te,c=new Re}else c=t?[]:u;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),u.push(l)}else o(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}(De):[];function Ue(e){return new URL(e,self.location.href).href}const Le=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const ze=function(e){return null!=e&&"object"==We(e)},He=function(e){return ze(e)&&"[object Arguments]"==J(e)};var Ve=Object.prototype,Ge=Ve.hasOwnProperty,$e=Ve.propertyIsEnumerable;const Ye=He(function(){return arguments}())?He:function(e){return ze(e)&&Ge.call(e,"callee")&&!$e.call(e,"callee")},Qe=Array.isArray;var Xe=H?H.isConcatSpreadable:void 0;const Je=function(e){return Qe(e)||Ye(e)||!!(Xe&&e&&e[Xe])},Ze=function e(t,n,r,o,i){var a=-1,u=t.length;for(r||(r=Je),i||(i=[]);++a<u;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,o,i):Le(i,c):o||(i[i.length]=c)}return i},et=function(e){return null!=e&&e.length?Ze(e,1):[]};var tt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},nt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function rt(e){var t=e.imports,n=void 0===t?{}:t;return tt(this,void 0,void 0,(function(){var e,t,r=this;return nt(this,(function(o){switch(o.label){case 0:return e=Object.values(n),[4,Promise.all(e.map((function(e){return tt(r,void 0,void 0,(function(){var t;return nt(this,(function(n){switch(n.label){case 0:return[4,(r=function(e){return e+".buildmanifest.json"}(e),fetch(r).then((function(e){return e.json()})).catch((function(){return null})))];case 1:return[2,(t=n.sent())?ot(e,t):[]]}var r}))}))})))];case 1:return t=o.sent(),[2,et(t)]}}))}))}function ot(e,t){var n,r,o,i;try{for(var a=[],u=((i=((o=new URL(e)).origin+o.pathname).split("/"))[i.length-1]="",i.join("/")),c=0,s=null!==(n=t.chunks)&&void 0!==n?n:[];c<s.length;c++)for(var l=s[c],f=0,h=null!==(r=l.files)&&void 0!==r?r:[];f<h.length;f++){var p=h[f];a.push(new URL(p,u).toString())}return a}catch(e){return[]}}var it=function(){return(it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function at(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var ut=Object.keys,ct=Array.isArray,st="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function lt(e,t){return"object"!=typeof t||ut(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||st.Promise||(st.Promise=Promise);var ft=Object.getPrototypeOf,ht={}.hasOwnProperty;function pt(e,t){return ht.call(e,t)}function yt(e,t){"function"==typeof t&&(t=t(ft(e))),ut(t).forEach((function(n){vt(e,n,t[n])}))}var dt=Object.defineProperty;function vt(e,t,n,r){dt(e,t,lt(n&&pt(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function mt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),vt(e.prototype,"constructor",e),{extend:yt.bind(null,e.prototype)}}}}var bt=Object.getOwnPropertyDescriptor;function gt(e,t){var n;return bt(e,t)||(n=ft(e))&&gt(n,t)}var wt=[].slice;function _t(e,t,n){return wt.call(e,t,n)}function xt(e,t){return t(e)}function kt(e){if(!e)throw new Error("Assertion Failed")}function Ot(e){st.setImmediate?setImmediate(e):setTimeout(e,0)}function St(e,t){return e.reduce((function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e}),{})}function jt(e,t){if(pt(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=jt(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:jt(u,t.substr(a+1))}}function Pt(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){kt("string"!=typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)Pt(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),u=t.substr(i+1);if(""===u)void 0===n?ct(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var c=e[a];c||(c=e[a]={}),Pt(c,u,n)}}else void 0===n?ct(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Rt(e,t){"string"==typeof t?Pt(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Pt(e,t,void 0)}))}function Et(e){var t={};for(var n in e)pt(e,n)&&(t[n]=e[n]);return t}var At=[].concat;function Ct(e){return At.apply([],e)}var Tt="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(Ct([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return st[e]})),It=Tt.map((function(e){return st[e]})),Kt=St(Tt,(function(e){return[e,!0]}));function qt(e){if(!e||"object"!=typeof e)return e;var t;if(ct(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(qt(e[n]))}else if(It.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)pt(e,o)&&(t[o]=qt(e[o]));return t}var Dt={}.toString;function Bt(e){return Dt.call(e).slice(8,-1)}var Mt=function(e,t){return"Array"===t?""+e.map((function(e){return Mt(e,Bt(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function Ft(e,t,n,r){return n=n||{},r=r||"",ut(e).forEach((function(o){if(pt(t,o)){var i=e[o],a=t[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var u=Bt(i),c=Bt(a);u===c?Kt[u]?Mt(i,u)!==Mt(a,c)&&(n[r+o]=t[o]):Ft(i,a,n,r+o+"."):n[r+o]=t[o]}else i!==a&&(n[r+o]=t[o])}else n[r+o]=void 0})),ut(t).forEach((function(o){pt(e,o)||(n[r+o]=t[o])})),n}var Nt="undefined"!=typeof Symbol&&Symbol.iterator,Ut=Nt?function(e){var t;return null!=e&&(t=e[Nt])&&t.apply(e)}:function(){return null},Lt={};function Wt(e){var t,n,r,o;if(1===arguments.length){if(ct(e))return e.slice();if(this===Lt&&"string"==typeof e)return[e];if(o=Ut(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var zt="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},Ht="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Vt(e,t){Ht=e,Gt=t}var Gt=function(){return!0},$t=!new Error("").stack;function Yt(){if($t)try{throw new Error}catch(e){return e}return new Error}function Qt(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Gt).map((function(e){return"\n"+e})).join("")):""}var Xt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Jt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xt),Zt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function en(e,t){this._e=Yt(),this.name=e,this.message=t}function tn(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function nn(e,t,n,r){this._e=Yt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=tn(e,t)}function rn(e,t){this._e=Yt(),this.name="BulkError",this.failures=t,this.message=tn(e,t)}mt(en).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Qt(this._e,2))}},toString:function(){return this.name+": "+this.message}}),mt(nn).from(en),mt(rn).from(en);var on=Jt.reduce((function(e,t){return e[t]=t+"Error",e}),{}),an=en,un=Jt.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Yt(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Zt[t]||n,this.inner=null)}return mt(r).from(an),e[t]=r,e}),{});un.Syntax=SyntaxError,un.Type=TypeError,un.Range=RangeError;var cn=Xt.reduce((function(e,t){return e[t+"Error"]=un[t],e}),{}),sn=Jt.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=un[t]),e}),{});function ln(){}function fn(e){return e}function hn(e,t){return null==e||e===fn?t:function(n){return t(e(n))}}function pn(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function yn(e,t){return e===ln?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?pn(r,this.onsuccess):r),o&&(this.onerror=this.onerror?pn(o,this.onerror):o),void 0!==i?i:n}}function dn(e,t){return e===ln?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?pn(n,this.onsuccess):n),r&&(this.onerror=this.onerror?pn(r,this.onerror):r)}}function vn(e,t){return e===ln?t:function(n){var r=e.apply(this,arguments);lt(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?pn(o,this.onsuccess):o),i&&(this.onerror=this.onerror?pn(i,this.onerror):i),void 0===r?void 0===a?void 0:a:lt(r,a)}}function mn(e,t){return e===ln?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function bn(e,t){return e===ln?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}sn.ModifyError=nn,sn.DexieError=en,sn.BulkError=rn;var gn={},wn="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),_n=wn[0],xn=wn[1],kn=wn[2],On=xn&&xn.then,Sn=_n&&_n.constructor,jn=!!kn,Pn=!1,Rn=kn?function(){kn.then(Xn)}:st.setImmediate?setImmediate.bind(null,Xn):st.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Xn(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Xn,0)},En=function(e,t){Mn.push([e,t]),Cn&&(Rn(),Cn=!1)},An=!0,Cn=!0,Tn=[],In=[],Kn=null,qn=fn,Dn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{xr(e[0],e[1])}catch(e){}}))}},Bn=Dn,Mn=[],Fn=0,Nn=[];function Un(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ln,this._lib=!1;var t=this._PSD=Bn;if(Ht&&(this._stackHolder=Yt(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==gn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Hn(this,this._value))}this._state=null,this._value=null,++t.ref,zn(this,e)}var Ln={get:function(){var e=Bn,t=ur;function n(n,r){var o=this,i=!e.global&&(e!==Bn||t!==ur),a=i&&!fr(),u=new Un((function(t,u){Gn(o,new Wn(gr(n,e,i,a),gr(r,e,i,a),t,u,e))}));return Ht&&Qn(u,this),u}return n.prototype=gn,n},set:function(e){vt(this,"then",e&&e.prototype===gn?Ln:{get:function(){return e},set:Ln.set})}};function Wn(e,t,n,r,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function zn(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Jn();t&&"function"==typeof t.then?zn(e,(function(e,n){t instanceof Un?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Vn(e)),n&&Zn()}}),Hn.bind(null,e))}catch(t){Hn(e,t)}}function Hn(e,t){if(In.push(t),null===e._state){var n=e._lib&&Jn();t=qn(t),e._state=!1,e._value=t,Ht&&null!==t&&"object"==typeof t&&!t._promise&&function(n,r,o){try{(function(){var n=gt(t,"stack");t._promise=e,vt(t,"stack",{get:function(){return Pn?n&&(n.get?n.get.apply(t):n.value):e.stack}})}).apply(null,void 0)}catch(e){}}(),function(e){Tn.some((function(t){return t._value===e._value}))||Tn.push(e)}(e),Vn(e),n&&Zn()}}function Vn(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Gn(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Fn&&(++Fn,En((function(){0==--Fn&&er()}),[]))}function Gn(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Fn,En($n,[n,e,t])}else e._listeners.push(t)}function $n(e,t,n){try{Kn=t;var r,o=t._value;t._state?r=e(o):(In.length&&(In=[]),r=e(o),-1===In.indexOf(o)&&function(e){for(var t=Tn.length;t;)if(Tn[--t]._value===e._value)return void Tn.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Kn=null,0==--Fn&&er(),--n.psd.ref||n.psd.finalize()}}function Yn(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var o,i,a=e._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Qt(a,0)):(o=a,i=""),t.push(o+(i?": "+i:"")+r)}return Ht&&((r=Qt(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Yn(e._prev,t,n)),t}function Qn(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Xn(){Jn()&&Zn()}function Jn(){var e=An;return An=!1,Cn=!1,e}function Zn(){var e,t,n;do{for(;Mn.length>0;)for(e=Mn,Mn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Mn.length>0);An=!0,Cn=!0}function er(){var e=Tn;Tn=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Nn.slice(0),n=t.length;n;)t[--n]()}function tr(e){return new Un(gn,!1,e)}function nr(e,t){var n=Bn;return function(){var r=Jn(),o=Bn;try{return dr(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{dr(o,!1),r&&Zn()}}}yt(Un.prototype,{then:Ln,_then:function(e,t){Gn(this,new Wn(null,null,e,t,Bn))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):tr(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):tr(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),tr(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Pn=!0;var e=Yn(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Pn=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Un((function(r,o){var i=setTimeout((function(){return o(new un.Timeout(t))}),e);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&vt(Un.prototype,Symbol.toStringTag,"Dexie.Promise"),Dn.env=vr(),yt(Un,{all:function(){var e=Wt.apply(null,arguments).map(hr);return new Un((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(o,i){return Un.resolve(o).then((function(n){e[i]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Un)return e;if(e&&"function"==typeof e.then)return new Un((function(t,n){e.then(t,n)}));var t=new Un(gn,!0,e);return Qn(t,Kn),t},reject:tr,race:function(){var e=Wt.apply(null,arguments).map(hr);return new Un((function(t,n){e.map((function(e){return Un.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Bn},set:function(e){return Bn=e}},totalEchoes:{get:function(){return ur}},newPSD:sr,usePSD:mr,scheduler:{get:function(){return En},set:function(e){En=e}},rejectionMapper:{get:function(){return qn},set:function(e){qn=e}},follow:function(e,t){return new Un((function(n,r){return sr((function(t,n){var r=Bn;r.unhandleds=[],r.onunhandled=n,r.finalize=pn((function(){var e=this;Nn.push((function r(){0===e.unhandleds.length?t():n(e.unhandleds[0]),Nn.splice(Nn.indexOf(r),1)})),++Fn,En((function(){0==--Fn&&er()}),[])}),r.finalize),e()}),t,n,r)}))}}),Sn&&(Sn.allSettled&&vt(Un,"allSettled",(function(){var e=Wt.apply(null,arguments).map(hr);return new Un((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,o){return Un.resolve(e).then((function(e){return r[o]={status:"fulfilled",value:e}}),(function(e){return r[o]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Sn.any&&"undefined"!=typeof AggregateError&&vt(Un,"any",(function(){var e=Wt.apply(null,arguments).map(hr);return new Un((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,o=new Array(r);e.forEach((function(e,i){return Un.resolve(e).then((function(e){return t(e)}),(function(e){o[i]=e,--r||n(new AggregateError(o))}))}))}))})));var rr={awaits:0,echoes:0,id:0},or=0,ir=[],ar=0,ur=0,cr=0;function sr(e,t,n,r){var o=Bn,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++cr;var a=Dn.env;i.env=jn?{Promise:Un,PromiseProp:{value:Un,configurable:!0,writable:!0},all:Un.all,race:Un.race,allSettled:Un.allSettled,any:Un.any,resolve:Un.resolve,reject:Un.reject,nthen:wr(a.nthen,i),gthen:wr(a.gthen,i)}:{},t&&lt(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=mr(i,e,n,r);return 0===i.ref&&i.finalize(),u}function lr(){return rr.id||(rr.id=++or),++rr.awaits,rr.echoes+=100,rr.id}function fr(){return!!rr.awaits&&(0==--rr.awaits&&(rr.id=0),rr.echoes=100*rr.awaits,!0)}function hr(e){return rr.echoes&&e&&e.constructor===Sn?(lr(),e.then((function(e){return fr(),e}),(function(e){return fr(),kr(e)}))):e}function pr(e){++ur,rr.echoes&&0!=--rr.echoes||(rr.echoes=rr.id=0),ir.push(Bn),dr(e,!0)}function yr(){var e=ir[ir.length-1];ir.pop(),dr(e,!1)}function dr(e,t){var n=Bn;if((t?!rr.echoes||ar++&&e===Bn:!ar||--ar&&e===Bn)||br(t?pr.bind(null,e):yr),e!==Bn&&(Bn=e,n===Dn&&(Dn.env=vr()),jn)){var r=Dn.env.Promise,o=e.env;xn.then=o.nthen,r.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(st,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function vr(){var e=st.Promise;return jn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(st,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:xn.then,gthen:e.prototype.then}:{}}function mr(e,t,n,r,o){var i=Bn;try{return dr(e,!0),t(n,r,o)}finally{dr(i,!1)}}function br(e){On.call(_n,e)}function gr(e,t,n,r){return"function"!=typeof e?e:function(){var o=Bn;n&&lr(),dr(t,!0);try{return e.apply(this,arguments)}finally{dr(o,!1),r&&br(fr)}}}function wr(e,t){return function(n,r){return e.call(this,gr(n,t),gr(r,t))}}-1===(""+On).indexOf("[native code]")&&(lr=fr=ln);var _r="unhandledrejection";function xr(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(st.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(_r,!0,!0),lt(r,o)):st.CustomEvent&&lt(r=new CustomEvent(_r,{detail:o}),o),r&&st.dispatchEvent&&(dispatchEvent(r),!st.PromiseRejectionEvent&&st.onunhandledrejection))try{st.onunhandledrejection(r)}catch(e){}Ht&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var kr=Un.reject;function Or(e,t,n,r){if(e._state.openComplete||Bn.letThrough){var o=e._createTransaction(t,n,e._dbSchema);try{o.create()}catch(e){return kr(e)}return o._promise(t,(function(e,t){return sr((function(){return Bn.trans=o,r(e,t,o)}))})).then((function(e){return o._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return kr(new un.DatabaseClosed);e.open().catch(ln)}return e._state.dbReadyPromise.then((function(){return Or(e,t,n,r)}))}var Sr="3.0.3",jr=String.fromCharCode(65535),Pr=-1/0,Rr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Er="String expected.",Ar=[],Cr="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Tr=Cr,Ir=Cr,Kr=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},qr="__dbnames",Dr="readonly",Br="readwrite";function Mr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Fr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Nr(e){return function(t){return void 0===jt(t,e)&&Rt(t=qt(t),e),t}}var Ur=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||Bn.trans,o=this.name;function i(e,n,r){if(!r.schema[o])throw new un.NotFound("Table "+o+" not part of transaction");return t(r.idbtrans,r)}var a=Jn();try{return r&&r.db===this.db?r===Bn.trans?r._promise(e,i,n):sr((function(){return r._promise(e,i,n)}),{trans:r,transless:Bn.transless||Bn}):Or(this.db,e,[this.name],i)}finally{a&&Zn()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ct(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=ut(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==jr)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&Ht&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}var a=t.reduce((function(t,n){var o=t[0],a=t[1],u=r[n],c=e[n];return[o||u,o||!u?Mr(a,u&&u.multi?function(e){var t=jt(e,n);return ct(t)&&t.some((function(e){return i(c,e)}))}:function(e){return i(c,jt(e,n))}):a]}),[null,null]),u=a[0],c=a[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,ct(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(pt(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){lt(this,e)}))},e.prototype.add=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Nr(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})})).then((function(e){return e.numFailures?Un.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{Pt(e,i,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||ct(t))throw new un.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||ct(e))return this.where(":id").equals(e).modify(t);ut(t).forEach((function(n){Pt(e,n,t[n])}));var n=jt(e,this.schema.primKey.keyPath);return void 0===n?kr(new un.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=e;return i&&o&&(a=Nr(i)(e)),this._trans("readwrite",(function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?Un.reject(e.failures[0]):e.lastResult})).then((function(t){if(i)try{Pt(e,i,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?Un.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Fr})})).then((function(e){return e.numFailures?Un.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},e.prototype.bulkAdd=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new un.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new un.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=u&&a?e.map(Nr(u)):e;return r.core.mutate({trans:t,type:"add",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new rn(r.name+".bulkAdd(): "+t+" of "+c+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,o=Array.isArray(t)?t:void 0,i=(n=n||(o?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new un.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new un.InvalidArgument("Arguments objects and keys must have the same length");var c=e.length,s=u&&a?e.map(Nr(u)):e;return r.core.mutate({trans:t,type:"put",keys:o,values:s,wantResults:i}).then((function(e){var t=e.numFailures,n=e.results,o=e.lastResult,a=e.failures;if(0===t)return i?n:o;throw new rn(r.name+".bulkPut(): "+t+" of "+c+" operations failed",Object.keys(a).map((function(e){return a[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,o=e.lastResult,i=e.failures;if(0===r)return o;throw new rn(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",i)}))},e}();function Lr(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(e,r,o){if("object"==typeof e)return a(e);r||(r=mn),o||(o=ln);var i={subscribers:[],fire:o,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,o)}};return t[e]=n[e]=i,i}function a(e){ut(e).forEach((function(t){var n=e[t];if(ct(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new un.InvalidArgument("Invalid event config");var r=i(t,fn,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Ot((function(){e.apply(null,t)}))}))}))}}))}}function Wr(e,t){return mt(t).from({prototype:e}),t}function zr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Hr(e,t){e.filter=Mr(e.filter,t)}function Vr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Mr(r(),t())}:t,e.justLimit=n&&!r}function Gr(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new un.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function $r(e,t,n){var r=Gr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Yr(e,t,n,r){var o=e.replayFilter?Mr(e.filter,e.replayFilter()):e.filter;if(e.or){var i={},a=function(e,n,r){if(!o||o(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),pt(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Qr($r(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Qr($r(e,r,n),Mr(e.algorithm,o),t,!e.keysOnly&&e.valueMapper)}function Qr(e,t,n,r){var o=nr(r?function(e,t,o){return n(r(e),t,o)}:n);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=ln}),(function(t){e.fail(t),n=ln}))||o(e.value,e,(function(e){return n=e})),n()}))}))}var Xr=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,kr.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,kr.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Mr(t.algorithm,e)},e.prototype._iterate=function(e,t){return Yr(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&lt(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return Yr(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(zr(n,!0))return r.count({trans:e,query:{index:Gr(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var o=0;return Yr(n,(function(){return++o,!1}),e,r).then((function(){return o}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&zr(n,!0)&&n.limit>0){var r=n.valueMapper,o=Gr(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var i=[];return Yr(n,(function(e){return i.push(e)}),e,n.table.core).then((function(){return i}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,zr(t)?Vr(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):Vr(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Vr(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return Hr(this._ctx,(function(n,r,o){return!e(n.value)||(r(o),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){return Hr(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Mr(t.isMatch,n),this;var t,n},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&zr(t,!0)&&t.limit>0)return this._read((function(e){var n=Gr(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Hr(this._ctx,(function(e){var t=e.primaryKey.toString(),r=pt(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof e)o=e;else{var i=ut(e),a=i.length;o=function(t){for(var n=!1,r=0;r<a;++r){var o=i[r],u=e[o];jt(t,o)!==u&&(Pt(t,o,u),n=!0)}return n}}var u=n.table.core,c=u.schema.primaryKey,s=c.outbound,l=c.extractKey,f="testmode"in Uo?1:2e3,h=t.db.core.cmp,p=[],y=0,d=[],v=function(e,t){var n=t.failures,r=t.numFailures;y+=e-r;for(var o=0,i=ut(n);o<i.length;o++){var a=i[o];p.push(n[a])}};return t.clone().primaryKeys().then((function(e){var t=function(n){var i=Math.min(f,e.length-n);return u.getMany({trans:r,keys:e.slice(n,n+i)}).then((function(a){for(var c=[],p=[],y=s?[]:null,d=[],m=0;m<i;++m){var b=a[m],g={value:qt(b),primKey:e[n+m]};!1!==o.call(g,g.value,g)&&(null==g.value?d.push(e[n+m]):s||0===h(l(b),l(g.value))?(p.push(g.value),s&&y.push(e[n+m])):(d.push(e[n+m]),c.push(g.value)))}return Promise.resolve(c.length>0&&u.mutate({trans:r,type:"add",values:c}).then((function(e){for(var t in e.failures)d.splice(parseInt(t),1);v(c.length,e)}))).then((function(e){return p.length>0&&u.mutate({trans:r,type:"put",keys:y,values:p}).then((function(e){return v(p.length,e)}))})).then((function(){return d.length>0&&u.mutate({trans:r,type:"delete",keys:d}).then((function(e){return v(d.length,e)}))})).then((function(){return e.length>n+i&&t(n+f)}))}))};return t(0).then((function(){if(p.length>0)throw new nn("Error modifying one or more objects",p,y,d);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return zr(e)&&(e.isPrimKey&&!Ir||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:n,query:{index:r,range:o}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new nn("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function Jr(e,t){return e<t?-1:e===t?0:1}function Zr(e,t){return e>t?-1:e===t?0:1}function eo(e,t,n){var r=e instanceof ao?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function to(e){return new e.Collection(e,(function(){return io("")})).limit(0)}function no(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),u=-1,c=0;c<a;++c){var s=t[c];if(s!==r[c])return o(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):o(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;o(e[c],s)<0&&(u=c)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function ro(e,t,n,r){var o,i,a,u,c,s,l,f=n.length;if(!n.every((function(e){return"string"==typeof e})))return eo(e,Er);function h(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),i=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Jr:Zr;var t=n.map((function(e){return{lower:i(e),upper:o(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));u=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),s=e,l="next"===e?"":r}h("next");var p=new e.Collection(e,(function(){return oo(u[0],c[f-1]+r)}));p._ondirectionchange=function(e){h(e)};var y=0;return p._addAlgorithm((function(e,n,r){var o=e.key;if("string"!=typeof o)return!1;var h=i(o);if(t(h,c,y))return!0;for(var p=null,d=y;d<f;++d){var v=no(o,h,u[d],c[d],a,s);null===v&&null===p?y=d+1:(null===p||a(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+l)}:r),!1})),p}function oo(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function io(e){return{type:1,lower:e,upper:e}}var ao=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?to(this):new this.Collection(this,(function(){return oo(e,t,!n,!r)}))}catch(e){return eo(this,Rr)}},e.prototype.equals=function(e){return null==e?eo(this,Rr):new this.Collection(this,(function(){return io(e)}))},e.prototype.above=function(e){return null==e?eo(this,Rr):new this.Collection(this,(function(){return oo(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?eo(this,Rr):new this.Collection(this,(function(){return oo(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?eo(this,Rr):new this.Collection(this,(function(){return oo(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?eo(this,Rr):new this.Collection(this,(function(){return oo(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?eo(this,Er):this.between(e,e+jr,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):ro(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],jr)},e.prototype.equalsIgnoreCase=function(e){return ro(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=Wt.apply(Lt,arguments);return 0===e.length?to(this):ro(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=Wt.apply(Lt,arguments);return 0===e.length?to(this):ro(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,jr)},e.prototype.anyOf=function(){var e=this,t=Wt.apply(Lt,arguments),n=this._cmp;try{t.sort(n)}catch(e){return eo(this,Rr)}if(0===t.length)return to(this);var r=new this.Collection(this,(function(){return oo(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var o=0;return r._addAlgorithm((function(e,r,i){for(var a=e.key;n(a,t[o])>0;)if(++o===t.length)return r(i),!1;return 0===n(a,t[o])||(r((function(){e.continue(t[o])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[Pr,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=Wt.apply(Lt,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return eo(this,Rr)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Pr,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===e.length)return to(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&o(e[0],e[1])<=0})))return eo(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",un.InvalidArgument);var c,s=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,f=o;function h(e,t){return f(e[0],t[0])}try{(c=e.reduce((function(e,t){for(var n=0,o=e.length;n<o;++n){var i=e[n];if(r(t[0],i[1])<0&&r(t[1],i[0])>0){i[0]=a(i[0],t[0]),i[1]=u(i[1],t[1]);break}}return n===o&&e.push(t),e}),[])).sort(h)}catch(e){return eo(this,Rr)}var p=0,y=l?function(e){return o(e,c[p][1])>0}:function(e){return o(e,c[p][1])>=0},d=s?function(e){return i(e,c[p][0])>0}:function(e){return i(e,c[p][0])>=0},v=y,m=new this.Collection(this,(function(){return oo(c[0][0],c[c.length-1][1],!s,!l)}));return m._ondirectionchange=function(e){"next"===e?(v=y,f=o):(v=d,f=i),c.sort(h)},m._addAlgorithm((function(e,t,r){for(var i=e.key;v(i);)if(++p===c.length)return t(r),!1;return!!function(e){return!y(e)&&!d(e)}(i)||(0===n._cmp(i,c[p][1])||0===n._cmp(i,c[p][0])||t((function(){f===o?e.continue(c[p][0]):e.continue(c[p][1])})),!1)})),m},e.prototype.startsWithAnyOf=function(){var e=Wt.apply(Lt,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?to(this):this.inAnyRange(e.map((function(e){return[e,e+jr]}))):eo(this,"startsWithAnyOf() only works with strings")},e}();function uo(e){return 1===e.length?e[0]:e}function co(e){try{return e.only([[]]),[[]]}catch(e){return jr}}function so(e){return nr((function(t){return lo(t),e(t.target.error),!1}))}function lo(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var fo=function(){function e(){}return e.prototype._lock=function(){return kt(!Bn.global),++this._reculock,1!==this._reculock||Bn.global||(Bn.lockOwnerFor=this),this},e.prototype._unlock=function(){if(kt(!Bn.global),0==--this._reculock)for(Bn.global||(Bn.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{mr(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&Bn.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(kt(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new un.DatabaseClosed(r);case"MissingAPIError":throw new un.MissingAPI(r.message,r);default:throw new un.OpenFailed(r)}if(!this.active)throw new un.TransactionInactive;return kt(null===this._completion._state),(e=this.idbtrans=e||n.transaction(uo(this.storeNames),this.mode)).onerror=nr((function(n){lo(n),t._reject(e.error)})),e.onabort=nr((function(n){lo(n),t.active&&t._reject(new un.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=nr((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return kr(new un.ReadOnly("Transaction is readonly"));if(!this.active)return kr(new un.TransactionInactive);if(this._locked())return new Un((function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},Bn])}));if(n)return sr((function(){var e=new Un((function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var o=new Un((function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)}));return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=Un.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var o=t._waitingFor;return new Un((function(e,r){n.then((function(n){return t._waitingQueue.push(nr(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(nr(r.bind(null,e)))})).finally((function(){t._waitingFor===o&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new un.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(pt(t,e))return t[e];var n=this.schema[e];if(!n)throw new un.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function ho(e,t,n,r,o,i,a){return{name:e,keyPath:t,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+po(t)}}function po(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function yo(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:St(n,(function(e){return[e.name,e]}))}}function vo(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return jt(t,e)}}(e):function(t){return jt(t,e)}}function mo(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function bo(e){return[].slice.call(e)}var go=0;function wo(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function _o(e,t,n,r){var o=t.cmp.bind(t);function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,o=e.lowerOpen,i=e.upperOpen;return void 0===t?void 0===r?null:n.upperBound(r,!!i):void 0===r?n.lowerBound(t,!!o):n.bound(t,r,!!o,!!i)}var a=function(e,t){var n=bo(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=ct(t),o=null==t,i={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:vo(t)},indexes:bo(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,o=e.keyPath,a={name:t,compound:ct(o),keyPath:o,unique:n,multiEntry:r,extractKey:vo(o)};return i[wo(o)]=a,a})),getIndexByKeyPath:function(e){return i[wo(e)]}};return i[":id"]=a.primaryKey,null!=t&&(i[wo(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),u=a.schema,c=a.hasGetAll,s=u.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(n){var r=n.trans,o=n.type,a=n.keys,u=n.values,c=n.range,s=n.wantResults;return new Promise((function(n,l){n=nr(n);var f=r.objectStore(t),h=null==f.keyPath,p="put"===o||"add"===o;if(!p&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var y=(a||u||{length:1}).length;if(a&&u&&a.length!==u.length)throw new Error("Given keys array must have same length as given values array.");if(0===y)return n({numFailures:0,failures:{},results:[],lastResult:void 0});var d,v=s&&at(a||mo(e.primaryKey,{type:o,keys:a,values:u})),m=[],b=0,g=function(e){++b,lo(e),v&&(v[e.target._reqno]=void 0),m[e.target._reqno]=e.target.error},w=function(e){var t=e.target;v[t._reqno]=t.result};if("deleteRange"===o){if(4===c.type)return n({numFailures:b,failures:m,results:v,lastResult:void 0});d=3===c.type?f.clear():f.delete(i(c))}else{var _=p?h?[u,a]:[u,null]:[a,null],x=_[0],k=_[1];if(p)for(var O=0;O<y;++O)(d=k&&void 0!==k[O]?f[o](x[O],k[O]):f[o](x[O]))._reqno=O,v&&void 0===v[O]&&(d.onsuccess=w),d.onerror=g;else for(O=0;O<y;++O)(d=f[o](x[O]))._reqno=O,d.onerror=g}var S=function(e){var t=e.target.result;v&&(v[y-1]=t),n({numFailures:b,failures:m,results:v,lastResult:t})};d.onerror=function(e){g(e),S(e)},d.onsuccess=S}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,o){e=nr(e);for(var i,a=n.objectStore(t),u=r.length,c=new Array(u),s=0,l=0,f=function(t){var n=t.target;c[n._pos]=n.result,++l===s&&e(c)},h=so(o),p=0;p<u;++p)null!=r[p]&&((i=a.get(r[p]))._pos=p,i.onsuccess=f,i.onerror=h,++s);0===s&&e(c)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,o){e=nr(e);var i=n.objectStore(t).get(r);i.onsuccess=function(t){return e(t.target.result)},i.onerror=so(o)}))},query:function(e){return function(n){return new Promise((function(r,o){r=nr(r);var a=n.trans,u=n.values,c=n.limit,s=n.query,l=c===1/0?void 0:c,f=s.index,h=s.range,p=a.objectStore(t),y=f.isPrimaryKey?p:p.index(f.name),d=i(h);if(0===c)return r({result:[]});if(e){var v=u?y.getAll(d,l):y.getAllKeys(d,l);v.onsuccess=function(e){return r({result:e.target.result})},v.onerror=so(o)}else{var m=0,b=u||!("openKeyCursor"in y)?y.openCursor(d):y.openKeyCursor(d),g=[];b.onsuccess=function(e){var t=b.result;return t?(g.push(u?t.value:t.primaryKey),++m===c?r({result:g}):void t.continue()):r({result:g})},b.onerror=so(o)}}))}}(c),openCursor:function(e){var n=e.trans,r=e.values,o=e.query,a=e.reverse,u=e.unique;return new Promise((function(e,c){e=nr(e);var s=o.index,l=o.range,f=n.objectStore(t),h=s.isPrimaryKey?f:f.index(s.name),p=a?u?"prevunique":"prev":u?"nextunique":"next",y=r||!("openKeyCursor"in h)?h.openCursor(i(l),p):h.openKeyCursor(i(l),p);y.onerror=so(c),y.onsuccess=nr((function(t){var r=y.result;if(r){r.___id=++go,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=nr(c),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=nr(e),y.onerror=so(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,e(t)}})),n=function(){if(y.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return y.onsuccess=nr((function(e){y.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),t},e(r)}else e(null)}),c)}))},count:function(e){var n=e.query,r=e.trans,o=n.index,a=n.range;return new Promise((function(e,n){var u=r.objectStore(t),c=o.isPrimaryKey?u:u.index(o.name),s=i(a),l=s?c.count(s):c.count();l.onsuccess=nr((function(t){return e(t.target.result)})),l.onerror=so(n)}))}}}(e)})),l={};return s.forEach((function(e){return l[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!l[e])throw new Error("Table '"+e+"' not found");return l[e]},cmp:o,MIN_KEY:-1/0,MAX_KEY:co(n),schema:u}}function xo(e,t){var n=t.db,r=function(e,t,n,r){var o=n.IDBKeyRange;return{dbcore:function(e,t){return t.reduce((function(e,t){var n=t.create;return it(it({},e),n(e))}),e)}(_o(t,n.indexedDB,o,r),e.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function ko(e,t,n,r){n.forEach((function(n){var o=r[n];t.forEach((function(t){var r=gt(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?vt(t,n,{get:function(){return this.table(n)},set:function(e){dt(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,o))}))}))}function Oo(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function So(e,t){return e._cfg.version-t._cfg.version}function jo(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var o=e[n],i=t[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Cr)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,c=i.idxByName,s=void 0;for(s in u)c[s]||a.del.push(s);for(s in c){var l=u[s],f=c[s];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function Po(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return Ro(o,e)})),o}function Ro(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Eo(e,t,n){var r={};return _t(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),o=t.keyPath,i=ho(po(o),o||"",!1,!1,!!t.autoIncrement,o&&"string"!=typeof o,!0),a=[],u=0;u<t.indexNames.length;++u){var c=t.index(t.indexNames[u]);o=c.keyPath;var s=ho(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(s)}r[e]=yo(e,i,a)})),r}function Ao(e,t,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var i=r[o],a=n.objectStore(i);e._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var c=a.indexNames[u],s=a.index(c).keyPath,l="string"==typeof s?s:"["+_t(s).join("+")+"]";if(t[i]){var f=t[i].idxByName[l];f&&(f.name=c,delete t[i].idxByName[l],t[i].idxByName[c]=f)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&st.WorkerGlobalScope&&st instanceof st.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var Co,To=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){ut(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return ho(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ct(r),0===t)})),o=r.shift();if(o.multi)throw new un.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new un.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new un.Schema("Index must have a name and cannot be an empty string")})),t[n]=yo(n,o,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?lt(this._cfg.storesSource,e):e;var n=t._versions,r={},o={};return n.forEach((function(e){lt(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,Oo(t,[t._allTables,t,t.Transaction.prototype]),ko(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],ut(o),o),t._storeNames=ut(o),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function Io(e){return sr((function(){return Bn.letThrough=!0,e()}))}function Ko(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?kr(t.dbOpenError):e}));Ht&&(t.openCanceller._stackHolder=Yt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.dbReadyResolve,o=null;return Un.race([t.openCanceller,new Un((function(r,i){if(!n)throw new un.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=e.name,u=t.autoSchema?n.open(a):n.open(a,Math.round(10*e.verno));if(!u)throw new un.MissingAPI("IndexedDB API not available");u.onerror=so(i),u.onblocked=nr(e._fireOnBlocked),u.onupgradeneeded=nr((function(r){if(o=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=lo,o.abort(),u.result.close();var c=n.deleteDatabase(a);c.onsuccess=c.onerror=nr((function(){i(new un.NoSuchDatabase("Database "+a+" doesnt exist"))}))}else{o.onerror=so(i);var s=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;e.idbdb=u.result,function(e,t,n,r){var o=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),u=Bn.transless||Bn;sr((function(){Bn.trans=i,Bn.transless=u,0===t?(ut(o).forEach((function(e){Po(n,e,o[e].primKey,o[e].indexes)})),xo(e,n),Un.follow((function(){return e.on.populate.fire(i)})).catch(a)):function(e,t,n,r){var o=[],i=e._versions,a=e._dbSchema=Eo(0,e.idbdb,r),u=!1;return i.filter((function(e){return e._cfg.version>=t})).forEach((function(i){o.push((function(){var o=a,c=i._cfg.dbschema;Ao(e,o,r),Ao(e,c,r),a=e._dbSchema=c;var s=jo(o,c);s.add.forEach((function(e){Po(r,e[0],e[1].primKey,e[1].indexes)})),s.change.forEach((function(e){if(e.recreate)throw new un.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return Ro(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),Ro(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=i._cfg.contentUpgrade;if(l&&i._cfg.version>t){xo(e,r),n._memoizedTables={},u=!0;var f=Et(c);s.del.forEach((function(e){f[e]=o[e]})),Oo(e,[e.Transaction.prototype]),ko(e,[e.Transaction.prototype],ut(f),f),n.schema=f;var h,p=zt(l);p&&lr();var y=Un.follow((function(){if((h=l(n))&&p){var e=fr.bind(null,null);h.then(e,e)}}));return h&&"function"==typeof h.then?Un.resolve(h):y.then((function(){return h}))}})),o.push((function(t){u&&Tr||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(i._cfg.dbschema,t),Oo(e,[e.Transaction.prototype]),ko(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?Un.resolve(o.shift()(n.idbtrans)).then(e):Un.resolve()}().then((function(){var e,t;t=r,ut(e=a).forEach((function(n){t.db.objectStoreNames.contains(n)||Po(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(a)}))}(e,s/10,o,i)}}),i),u.onsuccess=nr((function(){o=null;var n=e.idbdb=u.result,i=_t(n.objectStoreNames);if(i.length>0)try{var c=n.transaction(uo(i),"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=Eo(0,t,n);e._storeNames=_t(t.objectStoreNames,0),ko(e,[e._allTables],ut(r),r)}(e,n,c):(Ao(e,e._dbSchema,c),function(e,t){var n=jo(Eo(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((function(e){return e.add.length||e.change.length})))}(e,c)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),xo(e,c)}catch(e){}Ar.push(e),n.onversionchange=nr((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),Co.add(a),r()}),i)}))]).then((function(){return t.onReadyBeingFired=[],Un.resolve(Io(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(bn,ln);return t.onReadyBeingFired=[],Un.resolve(Io(n)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(n){try{o&&o.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=n,kr(t.dbOpenError)})).finally((function(){t.openComplete=!0,r()}))}function qo(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):ct(i)?Promise.all(i).then(n,r):n(i)}}return o(t)()}function Do(e,t,n){var r=arguments.length;if(r<2)throw new un.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=Ct(o);return[e,i,n]}function Bo(e,t,n,r,o){return Un.resolve().then((function(){var i=Bn.transless||Bn,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:i};r?a.idbtrans=r.idbtrans:a.create();var c,s=zt(o);s&&lr();var l=Un.follow((function(){if(c=o.call(a,a))if(s){var e=fr.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=qo(c))}),u);return(c&&"function"==typeof c.then?Un.resolve(c).then((function(e){return a.active?e:kr(new un.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return c}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),kr(e)}))}))}function Mo(e,t,n){for(var r=ct(e)?e.slice():[e],o=0;o<n;++o)r.push(t);return r}var Fo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return it(it({},e),{table:function(t){var n=e.table(t),r=n.schema,o={},i=[];function a(e,t,n){var r=wo(e),u=o[r]=o[r]||[],c=null==e?0:"string"==typeof e?1:e.length,s=t>0,l=it(it({},n),{isVirtual:s,isPrimaryKey:!s&&n.isPrimaryKey,keyTail:t,keyLength:c,extractKey:vo(e),unique:!s&&n.unique});return u.push(l),l.isPrimaryKey||i.push(l),c>1&&a(2===c?e[0]:e.slice(0,c-1),t+1,n),u.sort((function(e,t){return e.keyTail-t.keyTail})),l}var u=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];for(var c=0,s=r.indexes;c<s.length;c++){var l=s[c];a(l.keyPath,0,l)}function f(t){var n,r,o=t.query.index;return o.isVirtual?it(it({},t),{query:{index:o,range:(n=t.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:Mo(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:Mo(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}return it(it({},n),{schema:it(it({},r),{primaryKey:u,indexes:i,getIndexByKeyPath:function(e){var t=o[wo(e)];return t&&t[0]}}),count:function(e){return n.count(f(e))},query:function(e){return n.query(f(e))},openCursor:function(t){var r=t.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;return i?n.openCursor(f(t)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Mo(r,t.reverse?e.MAX_KEY:e.MIN_KEY,o)):t.unique?n.continue(Mo(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Mo(t,e.MAX_KEY,o),r)}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}(n)})):n.openCursor(t)}})}})}},No={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return it(it({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey;return it(it({},n),{mutate:function(e){var o=Bn.trans,i=o.table(t).hook,a=i.deleting,u=i.creating,c=i.updating;switch(e.type){case"add":if(u.fire===ln)break;return o._promise("readwrite",(function(){return s(e)}),!0);case"put":if(u.fire===ln&&c.fire===ln)break;return o._promise("readwrite",(function(){return s(e)}),!0);case"delete":if(a.fire===ln)break;return o._promise("readwrite",(function(){return s(e)}),!0);case"deleteRange":if(a.fire===ln)break;return o._promise("readwrite",(function(){return function(e){return l(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function s(e){var t=Bn.trans,o=e.keys||mo(r,e);if(!o)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?it(it({},e),{keys:o,wantResults:!0}):it({},e)).type&&(e.values=at(e.values)),e.keys&&(e.keys=at(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:n})}(n,e,o).then((function(i){var s=o.map((function(n,o){var s=i[o],l={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(l,n,s,t);else if("add"===e.type||void 0===s){var f=u.fire.call(l,n,e.values[o],t);null==n&&null!=f&&(n=f,e.keys[o]=n,r.outbound||Pt(e.values[o],r.keyPath,n))}else{var h=Ft(s,e.values[o]),p=c.fire.call(l,h,n,s,t);if(p){var y=e.values[o];Object.keys(p).forEach((function(e){pt(y,e)?y[e]=p[e]:Pt(y,e,p[e])}))}}return l}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,a=t.numFailures,u=t.lastResult,c=0;c<o.length;++c){var l=r?r[c]:o[c],f=s[c];null==l?f.onerror&&f.onerror(n[c]):f.onsuccess&&f.onsuccess("put"===e.type&&i[c]?e.values[c]:l)}return{failures:n,results:r,numFailures:a,lastResult:u}})).catch((function(e){return s.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function l(e,t,o){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:o}).then((function(n){var r=n.result;return s({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:l(e,it(it({},t),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}})}})}},Uo=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var o=e.dependencies;this._options=n=it({addons:e.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var a,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ln,dbReadyPromise:null,cancelOpen:ln,openCanceller:null,autoSchema:!0};u.dbReadyPromise=new Un((function(e){u.dbReadyResolve=e})),u.openCanceller=new Un((function(e,t){u.cancelOpen=t})),this._state=u,this.name=t,this.on=Lr(this,"populate","blocked","versionchange",{ready:[bn,ln]}),this.on.ready.subscribe=xt(this.on.ready.subscribe,(function(t){return function(n,o){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||Un.resolve().then(n),o&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),o&&t(n);else{t(n);var i=r;o||t((function e(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,Wr(Xr.prototype,(function(e,t){this.db=a;var n=Fr,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table,u=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:u!==fn?u:null}}))),this.Table=function(e){return Wr(Ur.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Lr(null,{creating:[yn,ln],reading:[hn,fn],updating:[vn,ln],deleting:[dn,ln]})}))}(this),this.Transaction=function(e){return Wr(fo.prototype,(function(t,n,r,o){var i=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.idbtrans=null,this.on=Lr(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Un((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),kr(e)}))}))}(this),this.Version=function(e){return Wr(To.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Wr(ao.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var o=e._deps.indexedDB;if(!o)throw new un.MissingAPI("indexedDB API missing");this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(e,t){return o.cmp(t,e)},this._max=function(e,t){return o.cmp(e,t)>0?e:t},this._min=function(e,t){return o.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=co(n.IDBKeyRange),this._createTransaction=function(e,t,n,o){return new r.Transaction(e,t,n,o)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),Ar.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(Fo),this.use(No),i.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new un.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new un.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(So),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||Bn.letThrough?e():new Un((function(e,n){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new un.DatabaseClosed);t.open().catch(ln)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:n,level:null==r?10:r,name:o}),i.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return Ko(this)},e.prototype.close=function(){var e=Ar.indexOf(this),t=this._state;if(e>=0&&Ar.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new un.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new Un((function(e){t.dbReadyResolve=e})),t.openCanceller=new Un((function(e,n){t.cancelOpen=n}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new Un((function(r,o){var i=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=nr((function(){Co.remove(e.name),r()})),t.onerror=so(o),t.onblocked=e._fireOnBlocked};if(t)throw new un.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return ut(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=Do.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,o=Bn.trans;o&&o.db===this&&-1===e.indexOf("!")||(o=null);var i,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Dr)i=Dr;else{if("rw"!=e&&e!=Br)throw new un.InvalidArgument("Invalid transaction mode: "+e);i=Br}if(o){if(o.mode===Dr&&i===Br){if(!u)throw new un.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(e){if(o&&-1===o.storeNames.indexOf(e)){if(!u)throw new un.SubTransaction("Table "+e+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(e){return o?o._promise(null,(function(t,n){n(e)})):kr(e)}var c=Bo.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Bn.trans?mr(Bn.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},e.prototype.table=function(e){if(!pt(this._allTables,e))throw new un.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),Lo=Uo;yt(Lo,it(it({},sn),{delete:function(e){return new Lo(e).delete()},exists:function(e){return new Lo(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return Co?Co.getDatabaseNames().then(e):Un.resolve([])},defineClass:function(){return function(e){lt(this,e)}},ignoreTransaction:function(e){return Bn.trans?mr(Bn.transless,e):e()},vip:Io,async:function(e){return function(){try{var t=qo(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Un.resolve(t)}catch(e){return kr(e)}}},spawn:function(e,t,n){try{var r=qo(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Un.resolve(r)}catch(e){return kr(e)}},currentTransaction:{get:function(){return Bn.trans||null}},waitFor:function(e,t){var n=Un.resolve("function"==typeof e?Lo.ignoreTransaction(e):e).timeout(t||6e4);return Bn.trans?Bn.trans.waitFor(n):n},Promise:Un,debug:{get:function(){return Ht},set:function(e){Vt(e,"dexie"===e?function(){return!0}:Kr)}},derive:mt,extend:lt,props:yt,override:xt,Events:Lr,getByKeyPath:jt,setByKeyPath:Pt,delByKeyPath:Rt,shallowClone:Et,deepClone:qt,getObjectDiff:Ft,asap:Ot,minKey:Pr,addons:[],connections:Ar,errnames:on,dependencies:function(){try{return{indexedDB:st.indexedDB||st.mozIndexedDB||st.webkitIndexedDB||st.msIndexedDB,IDBKeyRange:st.IDBKeyRange||st.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Sr,version:Sr.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:Lo,Dexie:Lo})),Lo.maxKey=co(Lo.dependencies.IDBKeyRange),function(e){try{Co=function(e){var t,n=e&&"function"==typeof e.databases;if(!n){var r=new Uo(qr,{addons:[]});r.version(1).stores({dbnames:"name"}),t=r.table("dbnames")}return{getDatabaseNames:function(){return n?Un.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==qr}))})):t.toCollection().primaryKeys()},add:function(e){return!n&&e!==qr&&t.put({name:e}).catch(ln)},remove:function(e){return!n&&e!==qr&&t.delete(e).catch(ln)}}}(e)}catch(e){}}(Uo.dependencies.indexedDB),Un.rejectionMapper=function(e,t){if(!e||e instanceof en||e instanceof TypeError||e instanceof SyntaxError||!e.name||!cn[e.name])return e;var n=new cn[e.name](t||e.message,e);return"stack"in e&&vt(n,"stack",{get:function(){return this.inner.stack}}),n},Vt(Ht,Kr);var Wo,zo=(Wo=function(e,t){return(Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ho=function(e){function t(){var t=e.call(this,"ServiceWorker")||this;return t.version(1).stores({dynamicRouteRegistrations:"++,&pattern"}),t.dynamicRouteRegistrations=t.table("dynamicRouteRegistrations"),t}return zo(t,e),t}(Uo),Vo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},Go=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function $o(e){return Vo(this,void 0,void 0,(function(){var t;return Go(this,(function(n){switch(n.label){case 0:return[4,rt(e)];case 1:return[4,Qo(t=n.sent())];case 2:return n.sent(),[4,Yo(t)];case 3:return n.sent(),[2]}}))}))}function Yo(e){return Vo(this,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return 0===e.length?[2]:[4,caches.open(Be)];case 1:return[4,t.sent().addAll(e)];case 2:return t.sent(),[2]}}))}))}function Qo(e){return Vo(this,void 0,void 0,(function(){var t,n,r,o;return Go(this,(function(i){switch(i.label){case 0:return[4,caches.open(Be)];case 1:return[4,(t=i.sent()).keys()];case 2:return n=i.sent().map((function(e){return e.url})),[4,(new Ho).dynamicRouteRegistrations.toArray()];case 3:return r=i.sent(),o=n.filter((function(t){return!Ne.includes(t)&&!e.includes(t)&&!r.some((function(e){return new RegExp(e.pattern).test(t)}))})),console.info("Removing the following expired URLs from the cache: ",o),console.debug("The following URLs were known and not invalidated: ",Ne,e,r),[4,Promise.all(o.map((function(e){return t.delete(e)})))];case 4:return i.sent(),[2]}}))}))}function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Jo=H?H.prototype:void 0,Zo=Jo?Jo.toString:void 0;const ei=function e(t){if("string"==typeof t)return t;if(Qe(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(t,e)+"";if(function(e){return"symbol"==Xo(e)||ze(e)&&"[object Symbol]"==J(e)}(t))return Zo?Zo.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var ti=/[\\^$.*+?()[\]{}|]/g,ni=RegExp(ti.source);const ri=function(e){return(e=null==(t=e)?"":ei(t))&&ni.test(e)?e.replace(ti,"\\$&"):e;var t};var oi=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},ii=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ai={onImportMapChanged:function(e){var t=e.importMap;return oi(this,void 0,void 0,(function(){return ii(this,(function(e){switch(e.label){case 0:return[4,$o(t)];case 1:return e.sent(),[2]}}))}))},clearDynamicRoutes:function(){return oi(this,void 0,void 0,(function(){return ii(this,(function(e){switch(e.label){case 0:return[4,(new Ho).dynamicRouteRegistrations.clear()];case 1:return e.sent(),[2]}}))}))},registerDynamicRoute:function(e){var t=e.pattern,n=e.url;return oi(this,void 0,void 0,(function(){var e,r;return ii(this,(function(o){switch(o.label){case 0:return!(e=t)&&n&&(e="^"+ri(n)+"$"),e?(r={pattern:e},[4,(new Ho).dynamicRouteRegistrations.put(r)]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))}};n(344);var ui="GET",ci=["DELETE","GET","HEAD","PATCH","POST","PUT"];function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var li=function(e){return e&&"object"===si(e)?e:{handle:e}};function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ui;fi(this,e),this.handler=li(n),this.match=t,this.method=r}var t,n;return t=e,(n=[{key:"setCatchHandler",value:function(e){this.catchHandler=li(e)}}])&&hi(t.prototype,n),e}();function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e,t){return!t||"object"!==yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&di(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=mi(t);if(n){var o=mi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return vi(this,e)});function o(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,(function(t){var n=t.url,r=e.exec(n.href);if(r&&(n.origin===location.origin||0===r.index))return r.slice(1)}),t,n)}return o}(pi);function gi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function wi(e,t,n){return(wi=_i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&xi(o,n.prototype),o}).apply(null,arguments)}function _i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ki(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ji,Pi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._routes=new Map,this._defaultHandlerMap=new Map}var t,n;return t=e,(n=[{key:"routes",get:function(){return this._routes}},{key:"addFetchListener",value:function(){var e=this;self.addEventListener("fetch",(function(t){var n=t.request,r=e.handleRequest({request:n,event:t});r&&t.respondWith(r)}))}},{key:"addCacheListener",value:function(){var e=this;self.addEventListener("message",(function(t){if(t.data&&"CACHE_URLS"===t.data.type){var n=t.data.payload,r=Promise.all(n.urlsToCache.map((function(n){"string"==typeof n&&(n=[n]);var r,o=wi(Request,function(e){if(Array.isArray(e))return Oi(e)}(r=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||ki(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return e.handleRequest({request:o,event:t})})));t.waitUntil(r),t.ports&&t.ports[0]&&r.then((function(){return t.ports[0].postMessage(!0)}))}}))}},{key:"handleRequest",value:function(e){var t=this,n=e.request,r=e.event,o=new URL(n.url,location.href);if(o.protocol.startsWith("http")){var i=o.origin===location.origin,a=this.findMatchingRoute({event:r,request:n,sameOrigin:i,url:o}),u=a.params,c=a.route,s=c&&c.handler,l=n.method;if(!s&&this._defaultHandlerMap.has(l)&&(s=this._defaultHandlerMap.get(l)),s){var f;try{f=s.handle({url:o,request:n,event:r,params:u})}catch(e){f=Promise.reject(e)}var h=c&&c.catchHandler;return f instanceof Promise&&(this._catchHandler||h)&&(f=f.catch(function(){var e,i=(e=regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=11;break}return e.prev=2,e.next=5,h.handle({url:o,request:n,event:r,params:u});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),i=e.t0;case 11:if(!t._catchHandler){e.next=14;break}return e.abrupt("return",t._catchHandler.handle({url:o,request:n,event:r}));case 14:throw i;case 15:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gi(i,r,o,a,u,"next",e)}function u(e){gi(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return i.apply(this,arguments)}}())),f}}}},{key:"findMatchingRoute",value:function(e){var t,n=e.url,r=e.sameOrigin,o=e.request,i=e.event,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ki(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this._routes.get(o.method)||[]);try{for(a.s();!(t=a.n()).done;){var u=t.value,c=void 0,s=u.match({url:n,sameOrigin:r,request:o,event:i});if(s)return c=s,(Array.isArray(s)&&0===s.length||s.constructor===Object&&0===Object.keys(s).length||"boolean"==typeof s)&&(c=void 0),{route:u,params:c}}}catch(e){a.e(e)}finally{a.f()}return{}}},{key:"setDefaultHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ui;this._defaultHandlerMap.set(t,li(e))}},{key:"setCatchHandler",value:function(e){this._catchHandler=li(e)}},{key:"registerRoute",value:function(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}},{key:"unregisterRoute",value:function(e){if(!this._routes.has(e.method))throw new c("unregister-route-but-not-found-with-method",{method:e.method});var t=this._routes.get(e.method).indexOf(e);if(!(t>-1))throw new c("unregister-route-route-not-registered");this._routes.get(e.method).splice(t,1)}}])&&Si(t.prototype,n),e}(),Ri=function(){return ji||((ji=new Pi).addFetchListener(),ji.addCacheListener()),ji};function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ii(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ti(i,r,o,a,u,"next",e)}function u(e){Ti(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ki(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qi(e,t){if(e){if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e){return"string"==typeof e?new Request(e):e}n(921);var Fi=function(){function e(t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cacheKeys={},Object.assign(this,n),this.event=n.event,this._strategy=t,this._handlerDeferred=new T,this._extendLifetimePromises=[],this._plugins=function(e){if(Array.isArray(e))return Di(e)}(r=t.plugins)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||qi(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._pluginStateMap=new Map;var o,i=Ki(this._plugins);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._pluginStateMap.set(a,{})}}catch(e){i.e(e)}finally{i.f()}this.event.waitUntil(this._handlerDeferred.promise)}var t,n,r,o,i,a,u,s,l;return t=e,(n=[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Ii(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,s,l,f,h,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.event,!("navigate"===(r=Mi(t)).mode&&n instanceof FetchEvent&&n.preloadResponse)){e.next=9;break}return e.next=5,n.preloadResponse;case 5:if(!(o=e.sent)){e.next=9;break}return e.abrupt("return",o);case 9:i=this.hasCallback("fetchDidFail")?r.clone():null,e.prev=10,a=Ki(this.iterateCallbacks("requestWillFetch")),e.prev=12,a.s();case 14:if((u=a.n()).done){e.next=21;break}return s=u.value,e.next=18,s({request:r.clone(),event:n});case 18:r=e.sent;case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(10),new c("plugin-error-request-will-fetch",{thrownError:e.t1});case 34:return l=r.clone(),e.prev=35,e.next=38,fetch(r,"navigate"===r.mode?void 0:this._strategy.fetchOptions);case 38:f=e.sent,h=Ki(this.iterateCallbacks("fetchDidSucceed")),e.prev=41,h.s();case 43:if((p=h.n()).done){e.next=50;break}return y=p.value,e.next=47,y({event:n,request:l,response:f});case 47:f=e.sent;case 48:e.next=43;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(41),h.e(e.t2);case 55:return e.prev=55,h.f(),e.finish(55);case 58:return e.abrupt("return",f);case 61:if(e.prev=61,e.t3=e.catch(35),!i){e.next=67;break}return e.next=67,this.runCallbacks("fetchDidFail",{error:e.t3,event:n,originalRequest:i.clone(),request:l.clone()});case 67:throw e.t3;case 68:case"end":return e.stop()}}),e,this,[[10,31],[12,23,26,29],[35,61],[41,52,55,58]])})));return function(t){return e.apply(this,arguments)}}())},{key:"fetchAndCachePut",value:(l=Ii(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(t);case 2:return n=e.sent,r=n.clone(),this.waitUntil(this.cachePut(t,r)),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"cacheMatch",value:(s=Ii(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,u,c,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mi(t),o=this._strategy,i=o.cacheName,a=o.matchOptions,e.next=4,this.getCacheKey(n,"read");case 4:return u=e.sent,c=Ai(Ai({},a),{cacheName:i}),e.next=8,caches.match(u,c);case 8:r=e.sent,s=Ki(this.iterateCallbacks("cachedResponseWillBeUsed")),e.prev=11,s.s();case 13:if((l=s.n()).done){e.next=23;break}return f=l.value,e.next=17,f({cacheName:i,matchOptions:a,cachedResponse:r,request:u,event:this.event});case 17:if(e.t0=e.sent,e.t0){e.next=20;break}e.t0=void 0;case 20:r=e.t0;case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(11),s.e(e.t1);case 28:return e.prev=28,s.f(),e.finish(28);case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,this,[[11,25,28,31]])}))),function(e){return s.apply(this,arguments)})},{key:"cachePut",value:(u=Ii(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,s,l,f,h,p,y,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mi(t),e.next=3,F(0);case 3:return e.next=5,this.getCacheKey(r,"write");case 5:o=e.sent,e.next=9;break;case 9:if(n){e.next=12;break}throw new c("cache-put-with-no-response",{url:(v=o.url,new URL(String(v),location.href).href.replace(new RegExp("^".concat(location.origin)),""))});case 12:return e.next=14,this._ensureResponseSafeToCache(n);case 14:if(i=e.sent){e.next=18;break}return e.abrupt("return",!1);case 18:return a=this._strategy,u=a.cacheName,s=a.matchOptions,e.next=21,self.caches.open(u);case 21:if(l=e.sent,!(f=this.hasCallback("cacheDidUpdate"))){e.next=29;break}return e.next=26,w(l,o.clone(),["__WB_REVISION__"],s);case 26:e.t0=e.sent,e.next=30;break;case 29:e.t0=null;case 30:return h=e.t0,e.prev=32,e.next=35,l.put(o,f?i.clone():i);case 35:e.next=43;break;case 37:if(e.prev=37,e.t1=e.catch(32),"QuotaExceededError"!==e.t1.name){e.next=42;break}return e.next=42,B();case 42:throw e.t1;case 43:p=Ki(this.iterateCallbacks("cacheDidUpdate")),e.prev=44,p.s();case 46:if((y=p.n()).done){e.next=52;break}return d=y.value,e.next=50,d({cacheName:u,oldResponse:h,newResponse:i.clone(),request:o,event:this.event});case 50:e.next=46;break;case 52:e.next=57;break;case 54:e.prev=54,e.t2=e.catch(44),p.e(e.t2);case 57:return e.prev=57,p.f(),e.finish(57);case 60:return e.abrupt("return",!0);case 61:case"end":return e.stop()}var v}),e,this,[[32,37],[44,54,57,60]])}))),function(e,t){return u.apply(this,arguments)})},{key:"getCacheKey",value:(a=Ii(regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cacheKeys[n]){e.next=23;break}r=t,o=Ki(this.iterateCallbacks("cacheKeyWillBeUsed")),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=14;break}return a=i.value,e.t0=Mi,e.next=10,a({mode:n,request:r,event:this.event,params:this.params});case 10:e.t1=e.sent,r=(0,e.t0)(e.t1);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(3),o.e(e.t2);case 19:return e.prev=19,o.f(),e.finish(19);case 22:this._cacheKeys[n]=r;case 23:return e.abrupt("return",this._cacheKeys[n]);case 24:case"end":return e.stop()}}),e,this,[[3,16,19,22]])}))),function(e,t){return a.apply(this,arguments)})},{key:"hasCallback",value:function(e){var t,n=Ki(this._strategy.plugins);try{for(n.s();!(t=n.n()).done;)if(e in t.value)return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"runCallbacks",value:(i=Ii(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ki(this.iterateCallbacks(t)),e.prev=1,r.s();case 3:if((o=r.n()).done){e.next=9;break}return i=o.value,e.next=7,i(n);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(e,t){return i.apply(this,arguments)})},{key:"iterateCallbacks",value:regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ki(this._strategy.plugins),e.prev=1,o=regeneratorRuntime.mark((function e(){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(n=r.value)[t]){e.next=6;break}return o=i._pluginStateMap.get(n),a=function(e){var r=Ai(Ai({},e),{},{state:o});return n[t](r)},e.next=6,a;case 6:case"end":return e.stop()}}),e)})),n.s();case 4:if((r=n.n()).done){e.next=8;break}return e.delegateYield(o(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])}))},{key:"waitUntil",value:function(e){return this._extendLifetimePromises.push(e),e}},{key:"doneWaiting",value:(o=Ii(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._extendLifetimePromises.shift())){e.next=5;break}return e.next=3,t;case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"destroy",value:function(){this._handlerDeferred.resolve()}},{key:"_ensureResponseSafeToCache",value:(r=Ii(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,r=!1,o=Ki(this.iterateCallbacks("cacheWillUpdate")),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=18;break}return a=i.value,e.next=9,a({request:this.request,response:n,event:this.event});case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=void 0;case 12:if(n=e.t0,r=!0,n){e.next=16;break}return e.abrupt("break",18);case 16:e.next=5;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(3),o.e(e.t1);case 23:return e.prev=23,o.f(),e.finish(23);case 26:return r||n&&200!==n.status&&(n=void 0),e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,this,[[3,20,23,26]])}))),function(e){return r.apply(this,arguments)})}])&&Bi(t.prototype,n),e}();function Ni(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ui(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Li(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ui(i,r,o,a,u,"next",e)}function u(e){Ui(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Wi(e,t){if(e){if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Hi(this,e),this.cacheName=f(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}var t,n,r,o;return t=e,(n=[{key:"handle",value:function(e){return(t=this.handleAll(e),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||Wi(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var t,n}},{key:"handleAll",value:function(e){e instanceof FetchEvent&&(e={event:e,request:e.request});var t=e.event,n="string"==typeof e.request?new Request(e.request):e.request,r="params"in e?e.params:void 0,o=new Fi(this,{event:t,request:n,params:r}),i=this._getResponse(o,n,t);return[i,this._awaitComplete(i,o,n,t)]}},{key:"_getResponse",value:(o=Li(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,u,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.runCallbacks("handlerWillStart",{event:r,request:n});case 2:return o=void 0,e.prev=3,e.next=6,this._handle(n,t);case 6:if((o=e.sent)&&"error"!==o.type){e.next=9;break}throw new c("no-response",{url:n.url});case 9:e.next=38;break;case 11:e.prev=11,e.t0=e.catch(3),i=Ni(t.iterateCallbacks("handlerDidError")),e.prev=14,i.s();case 16:if((a=i.n()).done){e.next=25;break}return u=a.value,e.next=20,u({error:e.t0,event:r,request:n});case 20:if(!(o=e.sent)){e.next=23;break}return e.abrupt("break",25);case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(14),i.e(e.t1);case 30:return e.prev=30,i.f(),e.finish(30);case 33:if(o){e.next=37;break}throw e.t0;case 37:case 38:s=Ni(t.iterateCallbacks("handlerWillRespond")),e.prev=39,s.s();case 41:if((l=s.n()).done){e.next=48;break}return f=l.value,e.next=45,f({event:r,request:n,response:o});case 45:o=e.sent;case 46:e.next=41;break;case 48:e.next=53;break;case 50:e.prev=50,e.t2=e.catch(39),s.e(e.t2);case 53:return e.prev=53,s.f(),e.finish(53);case 56:return e.abrupt("return",o);case 57:case"end":return e.stop()}}),e,this,[[3,11],[14,27,30,33],[39,50,53,56]])}))),function(e,t,n){return o.apply(this,arguments)})},{key:"_awaitComplete",value:(r=Li(regeneratorRuntime.mark((function e(t,n,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:i=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,e.next=11,n.runCallbacks("handlerDidRespond",{event:o,request:r,response:i});case 11:return e.next=13,n.doneWaiting();case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(8),a=e.t1;case 18:return e.next=20,n.runCallbacks("handlerDidComplete",{event:o,request:r,response:i,error:a});case 20:if(n.destroy(),!a){e.next=23;break}throw a;case 23:case"end":return e.stop()}}),e,null,[[0,6],[8,15]])}))),function(e,t,n,o){return r.apply(this,arguments)})}])&&Vi(t.prototype,n),e}();function $i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Yi,Qi,Xi={cacheWillUpdate:(Qi=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==(n=t.response).status&&0!==n.status){e.next=3;break}return e.abrupt("return",n);case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})),Yi=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=Qi.apply(e,t);function i(e){$i(o,n,r,i,a,"next",e)}function a(e){$i(o,n,r,i,a,"throw",e)}i(void 0)}))},function(e){return Yi.apply(this,arguments)})};function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ea(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zi(i,r,o,a,u,"next",e)}function u(e){Zi(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(s,e);var t,n,r,o,i,a,u=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ia(i);if(a){var n=ia(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return oa(this,e)});function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ta(this,s),(e=u.call(this,t)).plugins.some((function(e){return"cacheWillUpdate"in e}))||e.plugins.unshift(Xi),e._networkTimeoutSeconds=t.networkTimeoutSeconds||0,e}return t=s,(n=[{key:"_handle",value:(o=ea(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=[],this._networkTimeoutSeconds&&(a=this._getTimeoutPromise({request:t,logs:r,handler:n}),u=a.id,s=a.promise,i=u,o.push(s)),l=this._getNetworkPromise({timeoutId:i,request:t,logs:r,handler:n}),o.push(l),e.next=8,n.waitUntil(ea(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.waitUntil(Promise.race(o));case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return e.next=6,l;case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})))());case 8:if(f=e.sent){e.next=12;break}throw new c("no-response",{url:t.url});case 12:return e.abrupt("return",f);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"_getTimeoutPromise",value:function(e){var t,n=this,r=e.request,o=(e.logs,e.handler);return{promise:new Promise((function(e){t=setTimeout(function(){var t=ea(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=4,o.cacheMatch(r);case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),1e3*n._networkTimeoutSeconds)})),id:t}}},{key:"_getNetworkPromise",value:(r=ea(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeoutId,r=t.request,t.logs,o=t.handler,e.prev=1,e.next=4,o.fetchAndCachePut(r);case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i=e.t0;case 10:if(n&&clearTimeout(n),!i&&a){e.next=17;break}return e.next=15,o.cacheMatch(r);case 15:a=e.sent;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return r.apply(this,arguments)})}])&&na(t.prototype,n),s}(Gi);function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(u,e);var t,n,r,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pa(o);if(i){var n=pa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ha(this,e)});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sa(this,u),(e=a.call(this,t))._networkTimeoutSeconds=t.networkTimeoutSeconds||0,e}return t=u,(n=[{key:"_handle",value:(r=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ca(i,r,o,a,u,"next",e)}function u(e){ca(i,r,o,a,u,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=2,i=[n.fetch(t)],this._networkTimeoutSeconds&&(a=F(1e3*this._networkTimeoutSeconds),i.push(a)),e.next=7,Promise.race(i);case 7:if(o=e.sent){e.next=10;break}throw new Error("Timed out the network response after "+"".concat(this._networkTimeoutSeconds," seconds."));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r=e.t0;case 15:if(o){e.next=18;break}throw new c("no-response",{url:t.url,error:r});case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(e,t){return r.apply(this,arguments)})}])&&la(t.prototype,n),u}(Gi);function da(e){return t=this,n=void 0,o=function(){var t,n,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return[4,self.clients.matchAll({type:"window"})];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)r[n].postMessage(e);return[2]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function u(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,u)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o}var va,ma=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},ba=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};self.__WB_DISABLE_DEV_LOGS=!0,va={prefix:"omrs"},function(e){for(var t=0,n=Object.keys(l);t<n.length;t++)r=n[t],"string"==typeof va[r]&&(l[r]=va[r]);var r}(),function(){var e=this,t=new ya,n=new aa({cacheName:Be});!function(e,t,n){var r;r=e instanceof RegExp?new bi(e,t,n):new pi(e,t,n),Ri().registerRoute(r)}((function(e){return"navigate"===e.request.mode}),(function(n){return ma(e,void 0,void 0,(function(){var e;return ba(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),[4,t.handle(n)];case 1:return[2,r.sent()];case 2:return r.sent(),[4,caches.open(Be)];case 3:return[4,r.sent().match(Fe)];case 4:return[2,null!=(e=r.sent())?e:Response.error()];case 5:return[2]}}))}))}));for(var r=function(r){return ma(e,void 0,void 0,(function(){var e,o,i,a,u;return ba(this,(function(c){switch(c.label){case 0:return e=r.request.clone(),[4,(new Ho).dynamicRouteRegistrations.toArray()];case 1:return c.sent().some((function(e){return new RegExp(e.pattern).test(r.url.href)}))&&"GET"===r.request.method?[4,n.handle(r)]:[3,3];case 2:return[2,c.sent()];case 3:return c.trys.push([3,5,,8]),[4,t.handle(r)];case 4:return[2,c.sent()];case 5:return c.sent(),[4,caches.match(r.request,{cacheName:Be})];case 6:return(o=c.sent())?[2,o]:(i=da,a={type:"networkRequestFailed"},u={url:r.request.url,method:r.request.method},[4,e.text()]);case 7:return i.apply(void 0,[(a.request=(u.body=c.sent(),u.headers=Object.fromEntries(Object.entries(r.request.headers)),u),a)]),[2,new Response(void 0,{status:204})];case 8:return[2]}}))}))},o=Ri(),i=0,a=ci;i<a.length;i++){var u=a[i];o.setDefaultHandler(r,u)}}(),self.addEventListener("message",(function(e){var t,n,r,o,i,a;return oi(this,void 0,void 0,(function(){function u(e){console.warn("Handling a message resulted in an error.",e),c({success:!1,error:e})}function c(t){e.ports[0].postMessage(null!=t?t:{})}var s,l;return ii(this,(function(f){switch(f.label){case 0:if(!(s=ai[null!==(r=null===(n=null===(t=e.data)||void 0===t?void 0:t.type)||void 0===n?void 0:n.toString())&&void 0!==r?r:""]))return u('Received an unknown message of type "'+(null===(o=e.data)||void 0===o?void 0:o.type)+" which cannot be handled."),[2];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s(e.data)];case 2:return c({success:!0,result:f.sent()}),[3,4];case 3:return l=f.sent(),u(null!==(a=null!==(i=null==l?void 0:l.message)&&void 0!==i?i:null==l?void 0:l.toString())&&void 0!==a?a:"Unknown error."),[3,4];case 4:return[2]}}))}))})),self.addEventListener("install",(function(e){e.waitUntil(Yo(Ne))}))})()})();
//# sourceMappingURL=service-worker.js.map